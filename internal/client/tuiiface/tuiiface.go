// Package tuiiface содержит интерфейсы и типы, абстрагирующие взаимодействие
// с TUI-приложением на базе библиотеки bubbletea.
//
// Это облегчает тестирование и модульность кода, позволяя заменять реальные
// реализации bubbletea.Program на моки или другие варианты.
//
// Здесь определён интерфейс Program — минимальный набор методов для запуска
// и остановки TUI-программы, а также фабрика ProgramFactory для создания
// экземпляров программы из модели.
package tuiiface

import tea "github.com/charmbracelet/bubbletea"

// Program описывает интерфейс программы TUI, который требуется для запуска и завершения приложения.
// Этот интерфейс абстрагирует реальную реализацию bubbletea.Program,
// что позволяет подменять поведение в тестах и упрощает модульность.
type Program interface {
	// Run запускает главный цикл приложения TUI.
	// Возвращает финальную модель и ошибку, если произошла ошибка во время выполнения.
	Run() (tea.Model, error)
	// Quit инициирует корректное завершение приложения TUI,
	// прерывая цикл Run.
	Quit()
}

// ProgramFactory — это тип функции, которая принимает начальную модель TUI
// и возвращает объект, реализующий интерфейс Program.
// Позволяет абстрагировать создание конкретной реализации программы,
// что удобно для подмены на мок в тестах.
type ProgramFactory func(m tea.Model) Program
